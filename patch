diff -u -r generated/1.5/Graphics/XHB/Gen/Damage.hs patched/Graphics/XHB/Gen/Damage.hs
--- generated/1.5/Graphics/XHB/Gen/Damage.hs	2009-05-29 02:35:26.000000000 -0500
+++ patched/Graphics/XHB/Gen/Damage.hs	2009-05-29 02:35:26.000000000 -0500
@@ -2,6 +2,7 @@
        (extension, queryVersion, create, destroy, subtract, add,
         module Graphics.XHB.Gen.Damage.Types)
        where
+import Prelude hiding (subtract)
 import Graphics.XHB.Gen.Damage.Types
 import Graphics.XHB.Connection.Internal
 import Graphics.XHB.Connection.Extension
diff -u -r generated/1.5/Graphics/XHB/Gen/RandR/Types.hs patched/Graphics/XHB/Gen/RandR/Types.hs
--- generated/1.5/Graphics/XHB/Gen/RandR/Types.hs	2009-05-29 02:35:26.000000000 -0500
+++ patched/Graphics/XHB/Gen/RandR/Types.hs	2009-05-29 02:35:26.000000000 -0500
@@ -21,8 +21,9 @@
         GetCrtcTransform(..), GetCrtcTransformReply(..), GetPanning(..),
         GetPanningReply(..), SetPanning(..), SetPanningReply(..),
         SetOutputPrimary(..), GetOutputPrimary(..),
-        GetOutputPrimaryReply(..), ScreenChangeNotify(..), Notify(..),
-        CrtcChange(..), OutputChange(..), OutputProperty(..), Notify(..))
+        GetOutputPrimaryReply(..), ScreenChangeNotify(..), NotifyEnum(..),
+        CrtcChange(..), OutputChange(..), OutputProperty(..), Notify(..),
+        NotifyData(..))
        where
 import Data.Word
 import Data.Int
@@ -1511,12 +1512,12 @@
                     mwidth
                     mheight)
  
-data Notify = NotifyCrtcChange
+data NotifyEnum = NotifyCrtcChange
             | NotifyOutputChange
             | NotifyOutputProperty
             deriving Show
  
-instance SimpleEnum Notify where
+instance SimpleEnum NotifyEnum where
         toValue NotifyCrtcChange{} = 0
         toValue NotifyOutputChange{} = 1
         toValue NotifyOutputProperty{} = 2
@@ -1649,8 +1650,34 @@
                status <- liftM fromValue (deserialize :: Get Word8)
                skip 11
                return (MkOutputProperty window output atom timestamp status)
+
  
-data Notify = MkNotify{subCode_Notify :: Notify,
+data NotifyData = NotifyDataCrtcChange CrtcChange
+                | NotifyDataOutputChange OutputChange
+                | NotifyDataOutputProperty OutputProperty
+     deriving (Show, Typeable)
+
+instance Serialize NotifyData where
+    serialize  (NotifyDataCrtcChange x) = serialize x
+    serialize  (NotifyDataOutputChange x) = serialize x
+    serialize  (NotifyDataOutputProperty x) = serialize x
+
+    size (NotifyDataCrtcChange x) = size x
+    size (NotifyDataOutputChange x) = size x
+    size (NotifyDataOutputProperty x) = size x
+
+deserializeNotifyData :: NotifyEnum -> Get NotifyData
+deserializeNotifyData NotifyCrtcChange = NotifyDataCrtcChange `liftM` deserialize
+deserializeNotifyData NotifyOutputChange = NotifyDataOutputChange `liftM` deserialize
+deserializeNotifyData NotifyOutputProperty = NotifyDataOutputProperty `liftM` deserialize
+
+subCodeToNotifyEnum :: Word8 -> NotifyEnum
+subCodeToNotifyEnum 0 = NotifyCrtcChange
+subCodeToNotifyEnum 1 = NotifyOutputChange
+subCodeToNotifyEnum 2 = NotifyOutputProperty
+
+ 
+data Notify = MkNotify{subCode_Notify :: NotifyEnum,
                        u_Notify :: NotifyData}
             deriving (Show, Typeable)
  
@@ -1661,5 +1688,5 @@
           = do skip 1
                subCode <- liftM fromValue (deserialize :: Get Word8)
                skip 2
-               u <- deserialize
+               u <- deserializeNotifyData subCode
                return (MkNotify subCode u)
\ No newline at end of file
diff -u -r generated/1.5/Graphics/XHB/Gen/XFixes/Types.hs patched/Graphics/XHB/Gen/XFixes/Types.hs
--- generated/1.5/Graphics/XHB/Gen/XFixes/Types.hs	2009-05-29 02:35:26.000000000 -0500
+++ patched/Graphics/XHB/Gen/XFixes/Types.hs	2009-05-29 02:35:26.000000000 -0500
@@ -3,7 +3,7 @@
         QueryVersionReply(..), SaveSetMode(..), SaveSetTarget(..),
         SaveSetMapping(..), ChangeSaveSet(..), SelectionEvent(..),
         SelectionEventMask(..), SelectionNotify(..),
-        SelectSelectionInput(..), CursorNotify(..), CursorNotifyMask(..),
+        SelectSelectionInput(..), CursorNotifyEnum(..), CursorNotifyMask(..),
         CursorNotify(..), SelectCursorInput(..), GetCursorImage(..),
         GetCursorImageReply(..), REGION, Region(..), CreateRegion(..),
         CreateRegionFromBitmap(..), CreateRegionFromWindow(..),
@@ -217,10 +217,10 @@
                serialize (toMask (event_mask_SelectSelectionInput x) :: Word32)
                putSkip (requiredPadding size__)
  
-data CursorNotify = CursorNotifyDisplayCursor
+data CursorNotifyEnum = CursorNotifyDisplayCursor
                   deriving Show
  
-instance SimpleEnum CursorNotify where
+instance SimpleEnum CursorNotifyEnum where
         toValue CursorNotifyDisplayCursor{} = 0
         fromValue 0 = CursorNotifyDisplayCursor
  
@@ -232,7 +232,7 @@
         fromBit 0 = CursorNotifyMaskDisplayCursor
  
 data CursorNotify = MkCursorNotify{subtype_CursorNotify ::
-                                   CursorNotify,
+                                   CursorNotifyEnum,
                                    window_CursorNotify :: WINDOW,
                                    cursor_serial_CursorNotify :: Word32,
                                    timestamp_CursorNotify :: TIMESTAMP, name_CursorNotify :: ATOM}
diff -u -r generated/1.5/Graphics/XHB/Gen/Xproto/Types.hs patched/Graphics/XHB/Gen/Xproto/Types.hs
--- generated/1.5/Graphics/XHB/Gen/Xproto/Types.hs	2009-05-29 02:35:26.000000000 -0500
+++ patched/Graphics/XHB/Gen/Xproto/Types.hs	2009-05-29 02:35:26.000000000 -0500
@@ -18,7 +18,7 @@
         CirculateNotify(..), CirculateRequest(..), Property(..),
         PropertyNotify(..), SelectionClear(..), Time(..), Atom(..),
         SelectionRequest(..), SelectionNotify(..), ColormapState(..),
-        Colormap(..), ColormapNotify(..), ClientMessage(..), Mapping(..),
+        Colormap(..), ColormapNotify(..), ClientMessage(..), ClientMessageData(..), Mapping(..),
         MappingNotify(..), Request(..), Value(..), Window(..), Pixmap(..),
         Atom(..), Cursor(..), Font(..), Match(..), Drawable(..),
         Access(..), Alloc(..), Colormap(..), GContext(..), IDChoice(..),
@@ -1494,6 +1494,51 @@
                                        y_ReparentNotify :: Int16,
                                        override_redirect_ReparentNotify :: Bool}
                     deriving (Show, Typeable)
+
+ 
+data ClientMessageData = ClientData8  [Word8]  -- ^length 20
+                       | ClientData16 [Word16] -- ^length 10
+                       | ClientData32 [Word32] -- ^length 5
+                   deriving (Show, Typeable)
+
+ 
+data ClientMessageDataType = CDType8
+                           | CDType16
+                           | CDType32
+ 
+clientMessageDataType :: ClientMessageData -> ClientMessageDataType
+clientMessageDataType ClientData8{}  = CDType8
+clientMessageDataType ClientData16{} = CDType16
+clientMessageDataType ClientData32{} = CDType32
+ 
+instance Serialize ClientMessageData where
+    serialize (ClientData8 xs) = assert (length xs == 20) $
+                                    serializeList xs
+    serialize (ClientData16 xs) = assert (length xs == 10) $
+                                     serializeList xs
+    serialize (ClientData32 xs) = assert (length xs == 5) $
+                                     serializeList xs
+    size cd = assert
+         (case cd of
+            ClientData8  xs -> length xs == 20
+            ClientData16 xs -> length xs == 10
+            ClientData32 xs -> length xs == 5)
+         20
+
+deserializeClientData :: ClientMessageDataType -> Get ClientMessageData
+deserializeClientData CDType8
+    = ClientData8 `liftM` deserializeList 20
+deserializeClientData CDType16
+    = ClientData16 `liftM` deserializeList 10
+deserializeClientData CDType32
+    = ClientData32 `liftM` deserializeList 5
+ 
+clientDataFormatToType :: Word8 -> ClientMessageDataType
+clientDataFormatToType 8 = CDType8
+clientDataFormatToType 16 = CDType16
+clientDataFormatToType 32 = CDType32
+clientDataFormatToType _ = CDType8 -- should we throw an error here?
+
  
 instance Graphics.XHB.Shared.Event ReparentNotify
  
@@ -1825,7 +1870,7 @@
                skip 2
                window <- deserialize
                type_ <- deserialize
-               data_ <- deserialize
+               data_ <- deserializeClientData (clientDataFormatToType format)
                return (MkClientMessage format window type_ data_)
  
 data Mapping = MappingModifier
@@ -3738,7 +3783,10 @@
  
 odd_length_QueryTextExtents :: QueryTextExtents -> Bool
 odd_length_QueryTextExtents x
-  = (fromIntegral (string_len_QueryTextExtents x .&. 1))
+  = wordToBool (string_len_QueryTextExtents x .&. 1)
+
+string_len_QueryTextExtents :: QueryTextExtents -> Word8
+string_len_QueryTextExtents x = genericLength $ string_QueryTextExtents x
  
 instance Serialize QueryTextExtents where
         serialize x
diff -u -r generated/1.5/Graphics/XHB/Gen/Xv/Types.hs patched/Graphics/XHB/Gen/Xv/Types.hs
--- generated/1.5/Graphics/XHB/Gen/Xv/Types.hs	2009-05-29 02:35:26.000000000 -0500
+++ patched/Graphics/XHB/Gen/Xv/Types.hs	2009-05-29 02:35:26.000000000 -0500
@@ -17,6 +17,7 @@
         ListImageFormatsReply(..), QueryImageAttributes(..),
         QueryImageAttributesReply(..), PutImage(..), ShmPutImage(..))
        where
+import Prelude hiding (Rational)
 import Data.Word
 import Data.Int
 import Foreign.C.Types
